/*
 * sysmanager-idle.c
 *
 *  Created on: 2025年4月8日
 *      Author: 47015
 */
#include "sysmanager/sysmanager.h"

/*!
****************************************************************************************************
* 常量定义
****************************************************************************************************
*/

/*!
****************************************************************************************************
* 类型定义
****************************************************************************************************
*/
struct _WORK_INFO {
	uint8_t State;

};

/*!
****************************************************************************************************
* 全局变量
****************************************************************************************************
*/
static struct _WORK_INFO gWorkInfo;

/*!
****************************************************************************************************
* 本地声明
****************************************************************************************************
*/

/*!
****************************************************************************************************
* 接口函数
****************************************************************************************************
*/
/*!
****************************************************************************************************
* 功能描述：该方法用于初始化空闲状态流程
* 注意事项：NA
* 输入参数：NA
* 输出参数：NA
* 返回参数：如果初始化成功返回TRUE，否则返回FALSE
****************************************************************************************************
*/
bool SYSMGR_IdleInit(void)
{
	gWorkInfo.State			  = WORK_INIT;

	return true;
}

/*!
****************************************************************************************************
* 功能描述：该方法用于判断空闲状态流程是否执行完毕
* 注意事项：NA
* 输入参数：NA
* 输出参数：NA
* 返回参数：如果执行完毕返回TRUE，否则返回FALSE
****************************************************************************************************
*/
bool SYSMGR_IdleIsDone(void)
{
	return (gWorkInfo.State == WORK_DONE);
}

/*!
****************************************************************************************************
* 功能描述：该方法用于处理空闲状态流程事务
* 注意事项：NA
* 输入参数：NA
* 输出参数：NA
* 返回参数：NA
****************************************************************************************************
*/
void SYSMGR_IdleHandle(void)
{
	switch (gWorkInfo.State) {
	case WORK_DONE:
		break;

	case WORK_INIT:
		gWorkInfo.State = WORK_DOING ;
		break;

	case WORK_DOING :
		if(COMMGR_GetRunStateCAN() == 1)
		{
			SYSMGR_SetRunState(RUNSTATE_RUNNING);
		}

		break;
	case WORK_DOING + 1:
		gWorkInfo.State = WORK_DOING ;
	break;
	default:
		break;
	}
}

/*!
****************************************************************************************************
* 本地函数
****************************************************************************************************
*/
/*!
****************************************************************************************************
* 功能描述：
* 注意事项：NA
* 输入参数：NA
* 输出参数：NA
* 返回参数：NA
****************************************************************************************************
*/


